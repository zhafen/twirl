
    // Make enemies
    std::size_t n_enemies = 10;
    for (int i = 0; i < n_enemies; ++i) {
        // They have durability

        // Relationship with other entities
        // Pulled towards the player
        auto relation = registry.create();
        // First force: gravity
        // Because of the r^-2 force drops off quickly if we don't scale it strongly
        auto& prc = registry.emplace<PairComp>(relation, enemy, player);
        auto& pfc = registry.emplace<PairwiseForceComp>(relation);
        pfc.magnitude = -1.0f;
        pfc.power = -2.0f;
        pfc.softening = 1.0f;
        pfc.distance_scaling = cfg.window_size_x / 2.0f / cfg.L;
        // Second force: springs
        auto relation2 = registry.create();
        auto& prc2 = registry.emplace<PairComp>(relation2, enemy, player);
        auto& pfc2 = registry.emplace<PairwiseForceComp>(relation2);
        pfc2.magnitude = -0.1f;
        // Collides with the player
        auto col_id = registry.create();
        registry.emplace<PairComp>(col_id, enemy, player);
        registry.emplace<CollisionComp>(col_id);

        // Store the enemy id
        enemy_ids.push_back(enemy);
    }
    // Enemies collide with each other
    for (auto& entity1 : enemy_ids) {
        for (auto& entity2 : enemy_ids) {
            if (entity1 == entity2 || entity1 > entity2) {
            continue;
            }
            auto relation = registry.create();
            registry.emplace<PairComp>(relation, entity1, entity2);
            registry.emplace<CollisionComp>(relation);
        }
    }

    // Add a durability bar
    auto bar = registry.create();
    // Have to pass in a shape to the component or it crashes, unlike with RenderComp
    // Not sure why
    auto& uic_bar = registry.emplace<UIComp>(bar, sf::RectangleShape());
    uic_bar.shape.setFillColor(sf::Color::White);
    uic_bar.shape.setOutlineThickness(cfg.L / 10.f);
    uic_bar.shape.setOutlineColor(sf::Color::Black);
    // This is the key part where the tracked value is set
    uic_bar.tracked_value = &registry.get<DurabilityComp>(player).durability;
    // Have to convert the shape to a rectangle to set the size
    uic_bar.size = sf::Vector2f(cfg.window_size_x / 2, cfg.L);
    uic_bar.pos =
        sf::Vector2f(-uic_bar.size.x / 2.f, -float(cfg.window_size_y) / 2.f + cfg.L);